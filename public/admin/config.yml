# Decap CMS Configuration for Pepioli
# For local development: run `npx decap-server` to enable editing
# For production: GitHub OAuth handles authentication

backend:
  name: github
  repo: coldpres/pepioli
  branch: main
  # Use test-repo for local testing without authentication
  # Uncomment the line below for local testing:
  # name: test-repo

# Enable local backend for development (requires: npx decap-server)
local_backend: true

site_url: https://pepioli.netlify.app
display_url: https://pepioli.netlify.app
logo_url: /favicon.svg

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

# Slug settings for Czech language support
slug:
  encoding: "ascii"
  clean_accents: true
  sanitize_replacement: "-"

collections:
  - name: "blog"
    label: "游닇 Blog"
    label_singular: "P콏칤sp캩vek"
    description: "캛l치nky a p콏칤sp캩vky na blogu"
    folder: "src/content/blog"
    create: true
    delete: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    sortable_fields: ['pubDate', 'title']
    summary: "{{title}} - {{pubDate | date('DD.MM.YYYY')}}"
    view_filters:
      - label: "Extern칤 캜l치nky"
        field: externalLink
        pattern: "."
      - label: "Vlastn칤 캜l치nky"
        field: externalLink
        pattern: "^$"
    fields:
      - {label: "Titulek", name: "title", widget: "string", hint: "N치zev va코eho 캜l치nku"}
      - {label: "Datum publikace", name: "pubDate", widget: "datetime", date_format: "YYYY-MM-DD", time_format: false, format: "YYYY-MM-DD"}
      - {label: "Popis", name: "description", widget: "text", hint: "Kr치tk칳 popis 캜l치nku (zobraz칤 se v n치hledu)"}
      - {label: "Autor", name: "author", widget: "string", default: "Josef칤na Povej코ilov치"}
      - {label: "칔vodn칤 obr치zek", name: "heroImage", widget: "image", required: false, hint: "Hlavn칤 obr치zek 캜l치nku"}
      - {label: "Extern칤 odkaz", name: "externalLink", widget: "string", required: false, hint: "Pokud vypln칤te, 캜l치nek bude odkazovat na tuto URL (nap콏. na Kamdu.cz)"}
      - {label: "T캩lo 캜l치nku", name: "body", widget: "markdown"}

  - name: "recipes"
    label: "游꼽 Recepty"
    label_singular: "Recept"
    description: "Obl칤ben칠 recepty"
    folder: "src/content/recipes"
    create: true
    delete: true
    slug: "{{slug}}"
    sortable_fields: ['pubDate', 'title']
    summary: "{{title}}"
    fields:
      - {label: "N치zev receptu", name: "title", widget: "string"}
      - {label: "Datum p콏id치n칤", name: "pubDate", widget: "datetime", date_format: "YYYY-MM-DD", time_format: false, format: "YYYY-MM-DD"}
      - {label: "Kr치tk칳 popis", name: "description", widget: "text", hint: "Popis receptu v p치r v캩t치ch"}
      - {label: "Fotografie j칤dla", name: "image", widget: "image", required: false}
      - label: "Ingredience"
        name: "ingredients"
        widget: "list"
        hint: "Seznam surovin pot콏ebn칳ch k p콏칤prav캩"
        field: {label: "Polo쬶a", name: "item", widget: "string"}
      - {label: "Postup p콏칤pravy", name: "body", widget: "markdown"}

  - name: "projects"
    label: "游꿛 Projekty"
    label_singular: "Projekt"
    description: "Uk치zky pr치ce a projekt콢"
    folder: "src/content/projects"
    create: true
    delete: true
    slug: "{{slug}}"
    sortable_fields: ['pubDate', 'title']
    summary: "{{title}}"
    fields:
      - {label: "N치zev projektu", name: "title", widget: "string"}
      - {label: "Datum", name: "pubDate", widget: "datetime", date_format: "YYYY-MM-DD", time_format: false, format: "YYYY-MM-DD"}
      - {label: "Popis", name: "description", widget: "text"}
      - {label: "Obr치zek", name: "image", widget: "image", required: false}
      - {label: "Odkaz na projekt", name: "link", widget: "string", required: false, hint: "URL adresa projektu"}
      - {label: "Detail projektu", name: "body", widget: "markdown"}
