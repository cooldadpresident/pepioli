---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---

<Layout title="Projekty - Pepioli">
    <h1 class="text-3xl font-bold mb-8">Projekty</h1>
    <p class="mb-8 text-stone-600">Ukázky mé práce a kreativních projektů.</p>

    <div class="grid gap-8">
        {projects.map((project) => (
            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100">
                <h2 class="text-2xl font-bold mb-2">
                    <a href={`/projekty/${project.slug}/`} class="hover:text-rose-600 transition">
                        {project.data.title}
                    </a>
                </h2>
                <p class="text-stone-600 mb-4">{project.data.description}</p>
                <div class="flex gap-2 mb-4">
                    <span class="bg-stone-100 text-stone-600 px-3 py-1 rounded-full text-xs font-medium">
                        {project.data.pubDate.getFullYear()}
                    </span>
                </div>
                <a href={`/projekty/${project.slug}/`} class="text-rose-600 font-medium hover:underline">
                    Více o projektu &rarr;
                </a>
            </div>
        ))}
    </div>
</Layout>
